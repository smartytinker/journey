//
//  Graphics1.cpp
//  C++ Journey
//
//  Created by Siddhant on 06/09/23.
//


#include <iostream>
#include <string>
using namespace std;


int main()
{
    
    string row[3][3] = {" ", " ", " ", " ", " ", " ", " ", " ", " "};
    int x, y, a[10] = {0, 1, 2, 1, 2, 1, 2, 1, 2, 1};
    
    cout << "\n\n WELCOME TO TIC-TAC-TOE\n\n";
    
    cout << "      |     |      " << "\n";
    cout << "  1,1 | 1,2 | 1,3  " << "\n";
    cout << " _____|_____|_____ " << "\n";
    cout << "      |     |      " << "\n";
    cout << "  2,1 | 2,2 | 2,3  " << "\n";
    cout << " _____|_____|_____ " << "\n";
    cout << "      |     |      " << "\n";
    cout << "  3,1 | 3,2 | 3,3  " << "\n";
    cout << "      |     |      " << "\n";
    
    
    for (int i = 1; i <= 9; i++)
    {
        cout << "\n\nPLAYER " << a[i] << " :";
        cout << "\nx position = ";
        cin >> x;
        cout << "y position = ";
        cin >> y;
        
        if(a[i] == 1)
        {
            row[x-1][y-1] = "X";
        }
        else if(a[i] == 2)
        {
            row[x-1][y-1] = "O";
        }
        
        cout << "\n\n";
        cout << "      |     |      " << "\n";
        cout << "   " << row[0][0] << "  |  " << row[0][1] << "  |  " << row[0][2] << "   " << "\n";
        cout << " _____|_____|_____ " << "\n";
        cout << "      |     |      " << "\n";
        cout << "   " << row[1][0] << "  |  " << row[1][1] << "  |  " << row[1][2] << "   " << "\n";
        cout << " _____|_____|_____ " << "\n";
        cout << "      |     |      " << "\n";
        cout << "   " << row[2][0] << "  |  " << row[2][1] << "  |  " << row[2][2] << "   " << "\n";
        cout << "      |     |      " << "\n";
        
        if(i >= 3)
        {
            if(
               ((row[0][0] == "X" || row[0][0] == "O") && row[0][0] == row [1][1] && row[1][1] == row[2][2]) ||   //cross l to r
               ((row[0][2] == "X" || row[0][2] == "O") && row[0][2] == row [1][1] && row[1][1] == row[2][0]) ||   //cross r to l
               ((row[0][0] == "X" || row[0][0] == "O") && row[0][0] == row [1][0] && row[1][0] == row[2][0]) ||   //vert 0
               ((row[0][1] == "X" || row[0][1] == "O") && row[0][1] == row [1][1] && row[1][1] == row[2][1]) ||   //vert 1
               ((row[0][2] == "X" || row[0][2] == "O") && row[0][2] == row [1][2] && row[1][2] == row[2][2]) ||   //vert 2
               ((row[0][0] == "X" || row[0][0] == "O") && row[0][0] == row [0][1] && row[0][1] == row[0][2]) ||   //hor  0
               ((row[1][0] == "X" || row[1][0] == "O") && row[1][0] == row [1][1] && row[1][1] == row[1][2]) ||   //hor  1
               ((row[2][0] == "X" || row[2][0] == "O") && row[2][0] == row [2][1] && row[2][1] == row[2][2])      //hor  2
               )
            {
                cout << "\n\nPLAYER " << a[i] << " WINS\n\n\n";
                exit(0);
            }
            
            if(i >= 5)
            {
                if(row[0][0] == row[2][0] && row[2][0] == row[1][2])
                {
                    if(row[1][0] == row[1][1])
                    {
                        cout << "\n\nTIE\n\n\n";
                        exit(0);
                    }
                }
                
                if(row[0][0] == row[0][2] && row[0][2] == row[2][1])
                {
                    if(row[0][1] == row[1][1])
                    {
                        cout << "\n\nTIE\n\n\n";
                        exit(0);
                    }
                }
                
                if(row[0][2] == row[2][2] && row[2][2] == row[1][0])
                {
                    if(row[1][1] == row[1][2])
                    {
                        cout << "\n\nTIE\n\n\n";
                        exit(0);
                    }
                }
                
                if(row[2][0] == row[2][2] && row[2][2] == row[0][1])
                {
                    if(row[1][1] == row[2][1])
                    {
                        cout << "\n\nTIE\n\n\n";
                        exit(0);
                    }
                }
                
            }
        }
    }
    
    
    cout << "\n\nTIE\n\n\n";
    
    
    //----------------------___________________------_______-----____----__---___---__-__-_----_--_-_-_--_-_-_--_-_-_--_-__-_-_-_-_--_-_-_-_-_-_--_---
    
    int b[7] = {0, 0, 0, 0, 0, 0, 0};
    
    cout << "\n\n WELCOME TO TIC-TAC-TOE\n\n";
    
    cout << "      |     |      " << "\n";
    cout << "  1,1 | 1,2 | 1,3  " << "\n";
    cout << " _____|_____|_____ " << "\n";
    cout << "      |     |      " << "\n";
    cout << "  2,1 | 2,2 | 2,3  " << "\n";
    cout << " _____|_____|_____ " << "\n";
    cout << "      |     |      " << "\n";
    cout << "  3,1 | 3,2 | 3,3  " << "\n";
    cout << "      |     |      " << "\n";
    
    cout << "\n\nPLAYER :";
    cout << "\nx position = ";
    cin >> x;
    cout << "y position = ";
    cin >> y;
    
    row[x-1][y-1] = "X";
    
   
    
    if(row[2][2] == "X")
    {
        row[1][1] = "O";
        {
            if(row[0][1] == "X" && b[0] == 0)
            {
                row[2][1] = "O";
                b[0]++;
            }
            if(row[0][2] == "X" && b[1] == 0)
            {
                row[2][0] = "O";
                b[1]++;
            }
            if(row[1][2] == "X" && b[2] == 0)
            {
                row[1][0] = "O";
                b[2]++;
            }
            if(row[2][2] == "X" && b[3] == 0)
            {
                row[2][0] = "O";
                b[3]++;
            }
            if(row[2][1] == "X" && b[4] == 0)
            {
                row[0][1] = "O";
                b[4]++;
            }
            if(row[2][0] == "X" && b[5] == 0)
            {
                row[0][2] = "O";
                b[5]++;
            }
            if(row[1][0] == "X" && b[6] == 0)
            {
                row[1][2] = "O";
                b[6]++;
            }
            
            
            if(
               row[1][0] == " " && row[2][0] == "O" &&
               b[5] == 0 &&
               b[6] == 0
               )
            {
                row[1][0] = "O";
            }
            if(
               row[2][0] == "O" && row[1][0] == " " &&
               b[5] == 0 &&
               b[6] == 0
               )
            {
                row[1][0] = "O";
            }
            
            if(
               row[0][1] == " " && row[0][2] == "X" &&
               b[0] == 0 &&
               b[1] == 0
               )
            {
                row[0][1] = "O";
            }
            if(row[0][2] == "O" && row[0][1] == "X" &&
               b[0] == 0 &&
               b[1] == 0
               )
            {
                row[0][2] = "O";
            }
        }
        
    }
    
    cout << "\n\n";
    cout << "      |     |      " << "\n";
    cout << "   " << row[0][0] << "  |  " << row[0][1] << "  |  " << row[0][2] << "   " << "\n";
    cout << " _____|_____|_____ " << "\n";
    cout << "      |     |      " << "\n";
    cout << "   " << row[1][0] << "  |  " << row[1][1] << "  |  " << row[1][2] << "   " << "\n";
    cout << " _____|_____|_____ " << "\n";
    cout << "      |     |      " << "\n";
    cout << "   " << row[2][0] << "  |  " << row[2][1] << "  |  " << row[2][2] << "   " << "\n";
    cout << "      |     |      " << "\n";

    
    
    return 0;
    
}
